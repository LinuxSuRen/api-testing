<!--index.html-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
  <meta http-equiv="Content-Security-Policy" content="default-src * self blob: data: gap:; style-src * self 'unsafe-inline' blob: data: gap:; script-src * 'self' 'unsafe-eval' 'unsafe-inline' blob: data: gap:; object-src * 'self' blob: data: gap:; img-src * self 'unsafe-inline' blob: data: gap:; connect-src self * 'unsafe-inline' blob: data: gap:; frame-src * self blob: data: gap:;">
  <title>API Testing</title>
</head>
<body>

<button type="button" id="action">Start</button>
<button type="button" id="open-server-page">Open Server Page</button>

<div>
  <div>Log</div>
  <button type="button" id="open-log-file">Open Log File</button>
</div>

<!-- You can also require other files to run in this process -->
<script src="./renderer.js"></script>
<script src="./api.js"></script>
<script>
const actionBut = document.getElementById('action');
actionBut.addEventListener('click', (e) => {
    const action = actionBut.innerHTML;
    switch (action) {
        case 'Stop':
            window.electronAPI.stopServer()
            actionBut.innerHTML = 'Start';
            break;
        case 'Start':
            window.electronAPI.startServer()
            actionBut.innerHTML= 'Stop';
            break;
    }
})

const openServerBut = document.getElementById('open-server-page');
openServerBut.addEventListener('click', (e) => {
  window.location = getHomePage()
})

const openLogfileBut = document.getElementById('open-log-file')
openLogfileBut.addEventListener('click', () => {
  window.electronAPI.openLogDir()
})
</script>
</body>
</html>